<!doctype html>
<html>
<meta charset="UTF-8">
<head>
<meta name="description" content="Granary 4101 - FTM.guru : Kompound Protocol | Invest FTM (WFTM) and earn compound interest.">
<meta name="keywords" content="Granary, Finance, Compound, Vault, Interest, Decentralized Finance, defi, yield farming, Guru Network, Fantom Opera, FTM">
<title>GRAIN 4101 - FTM.guru</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="https://ftm.guru/img/64.png"/>
<style>*{
scroll-behavior: smooth !important;
}
body {
  background:#17082f;
  color: white;
  margin:auto;
  font-family:helvetica nueve, helvetica, robotica, ubuntu, roboto, sans-serif;
}
.body{
  margin: 8%
}
.topbar {
  padding:5px;
  background: #6f42c1;
  width: calc(100%-10px);
  display:flex;
  flex-wrap: wrap;
}
.topbar a {
  color: white;
  text-decoration: none;
  padding: 10px;
  font-weight: bolder;
  margin: auto
}
.topbar a:first-child{font-size: 2em}
h1{font-size: 3em}
h2{}
h1,h2,h3{color:#32fbe2;}
button{
  border:2px solid #1cf995;
  background: #6f42c1;
  color: white;
  padding: 8px;
  font-size: 1em;
  border-radius: 10px;
  box-shadow: -2px 1px 5px rgba(16,240,80,0.75);
  transition: 0.25s;
}
button:hover{
  transform: translate(2px,-2px);
  font-size: 1.1em;
  transition: 0.25s;
}
button:active {
  transform: translate(0px,10px);
}
.lowerbar{
  font-size: 1.25em;
  font-weight: bolder;
}
.lowerbar a{
  font-size: 0.75em;
  font-weight: lighter;
  padding: 10px 10px 10px 0px;
  color:#32fbe2;
  text-decoration: none
}
.lowerbar img{width:24px}
.cards{
  display: flex;
  flex-wrap: wrap;
}
.card{
  margin:10px 20px 10px 0px;
  min-width: 220px;
  padding: 0px 10px 10px 10px;
  border: 2px solid #1f5;
  border-radius: 5px;
  background:rgba(16,240,80,0.2)
}
.card hr{color: #1f5;border:solid 2px}
.card sub{font-size: 1em}
.card sup{font-size: 1.5em}
.card:hover{
  transform: translate(5px,-5px);
  box-shadow: -5px 5px 5px rgba(16,240,80,0.75);
  transition: 0.25s;
  background: rgba(16,240,80,0.1);
}
.card span{font-size: 2em}
.card a{text-decoration: none;color: inherit}
.ki img {
  position: relative;
  top:8px;
  border-radius: 50%;
  width: 48px;
  box-shadow: 0 0 2px 2px rgba(16,240,80,1);
}
.ki img:first-child{left: 8px}
.panels{
  display: grid;
  grid-template-columns: auto;
}
#ivst,#switch {
  display:none;border:none
  }
.panels div:nth-child(1),.panels div:nth-child(2) {
  border:4px dashed #ffc107;
  padding: 0 5% 0;
  padding: 25px;
  background: #170229;
  border-radius: 10px
}
.panels div:nth-child(1){
  margin: 0 15px 15px 0;
  border-right: none;
  /*Just on the mobile view*/
  margin-bottom: 0;
  border-bottom: none
}
.panels div:nth-child(2){
  margin: 0 0 15px 0;
  border-left: none;
}
.hr1{
  color: transparent;
  border-top: 16px dotted #ea39b8;
  max-width: 50%
}
.fore{color: gold !important;font-weight:400}
#cw_m{color: #f23;font-weight: bold;text-shadow: 1px 1px 5px rgba(255,127,127,0.5)}


@media(min-width:641px){
  .panels{
    display: grid;
    grid-template-columns: auto auto;
  }
  .panels div:nth-child(1){
  /*Revert the mobile view*/
  margin: 0 15px 15px 0;
  border:4px dashed #ffc107;
  border-right: none;
  }
}
</style>
</head>
<body>
<div class="topbar">
	<a href="index.html">ðŸŒ¾GranariesðŸŒ¾</a>
	<a href="../index.html">FTM.guru</a>
	<a href="../LF/index.html">Create a Farm</a>
	<a href="../index.html">Services & Tools</a>
	<!--
	<a href="">FMC.guru</a>
	<a href="">Others</a>
	<a href="">Kompound</a>
	<a href="">T</a>
	<a href="">T</a>
	<a href="">D</a>
	-->
</div>
<div class="body">
<br>
<h1>
	<span class="ki"><img src="../img/ftm.svg"></span>
	GRAIN#4101
</h1>
<h2>Kompound Protocol</h2>
<h3 class="fore">Compounding Service for Fantom's Yield Farms</h3>
<i>Earn 1% of each harvest, just for paying the gas! Earn compound interest even on your reimbursements!</i>
<br><br>
Zero* deposit fees & Zero withdrawal fees.
<br><span style="font-size:0.8em">0.1% Deposit fees, No fees if holding 0.01 WFTM.</span>

<br><br><br><br><br>

<h2>DarkMatter Farms</h2>
<h3 class="fore">WFTM-wFTM LP Token Maximizer</h3>
This strategy takes in Wrapped FTM as collateral deposits for issuing the GRAIN#4101 tokens to investors. It stakes the collateral obtained at the VeDAO Farms to earn WEVE tokens. When at work, it harvests all pending WEVE from the Farm. It then sells all of its WEVE token balance for WFTM. Then it sells remaining WEVE into Wrapped Fantom. Finally, it stakes the WFTM obtained once again into the Farm, increasing & compounding the redemption value of the GRAIN tokens.

<br><br>


<div class="cards">

	<div class="card">
		<br>
		<span id="c_aa">0.000 %</span>
		<hr>
		Average A.P.Y.
	</div>
	<div class="card">
		<br>
		<span id="c_mc">$ 0.000</span>
		<hr>
		Market Cap (TVL)
	</div>
	<div class="card">
		<br>
		<span id="c_ts">0.000</span>
		<hr>
		Total GRAINs (Supply)
	</div>
	<div class="card">
		<br>
		<span id="c_pu">$ 0.000</span>
		<hr>
		Price (in USD)
	</div>
	<div class="card">
		<br>
		<span id="c_nr">1.000 x</span>
		<hr>
		Net Returns
	</div>
	<div class="card">
		<br>
		<span id="c_sc">0x0000-0000</span>
		<hr>
		Smart Contract
	</div>


</div>

<br><br><br><br>
<hr class="hr1">
<br><br><br>

<h2>Kontrol Panel</h2>

<div id="connect">
	Please connect your web3 wallet.
	<br><br>
	<button onclick="cw()" id="btn-connect">Connect</button>
</div>
	<br>
	<span id="cw_m"></span><br>
<div id="switch">
	A web3 wallet is now connected.
	<button onclick="cw()" id="btn-switch">Switch?</button>
	<br>
	<span id="cw"></span>
</div>
<br><br><br>

<div class="panels">
	<div class="">
		<h3>For Investors</h3>

		<div id="ivst">
			<h4>Deposits</h4>
			Available: <span id="dep-ab">0.------</span> LP<br>
			<button id="btn-d-all" onclick="enter()">Deposit All</button>
			<br><br>
			<input id="inp-da" placeholder="LP Amount">
			<button id="btn-d-amt" onclick="deposit()">Deposit</button><br>

			<br><br>
			<h4>Withdrawals</h4>
			Available: <span id="wd-ab">0.------</span> KP<br>
			<button id="btn-w-all" onclick="exit()">Withdraw All</button>
			<br><br>
			<input id="inp-wa" placeholder="KP Amount">
			<button id="btn-w-amt" onclick="withdraw()">Withdraw</button><br>
		</div>

		<div id="appr">
			<br><br>
			<h4>Approvals</h4>
			Please approve token for deposit into the Kompounder (Granary).<br><br>
			<button onclick="farm_1_f_approve()" id="btn-approve">Approve</button>
			<!--<br><br>
			Allowances have been granted.
			<button id="btn-revoke">Revoke?</button>--><br>
		</div>

	</div>

	<div class="">
		<h3>For Workers</h3>
		<h4>Rough Estimations</h4>
		Cost of Work: <span id="est-cost">0.------</span> FTM<br>
		Harvest Size: <span id="est-hvst">0.------</span> WEVE<br>
		Potential Gain: <span id="est-gain">0.------</span> GRAIN<br>
		<br>
		<button class="btn-work" onclick="doHardWork()">Start Working</button>
		<br><br><br>
		After finishing work successfully, the Workers become investors.<br><br>
		Please manage your earnings using the <i>Investor Panel</i>.
	</div>


</div>



<br><br><br><br><br>
<hr class="hr1">
<br><br><br>

<h2>General Information</h2><br>
<h4>Get WFTM</h4>
<a class="fore" href="https://swap.spiritswap.finance" target="_blank">Obtain WFTM from Spiritswap.</a>
<br><br>
<h4>Advantages of Kompounders (Granaries)</h4>
Compounding yield requires transaction fees to be paid to the blockchain. This can add up quickly to be expensive and cut into returns. As we batch your transaction with many other depositor's transactions, it brings about a cumulatively lower cost and higher return to earn yield using the Kompounder (Granary).
<br><br>
<i>For a new user, 13 transactions need to be made to make their first farm yield compound : Buy token P, Buy token Q, Approve token P, Approve token Q, Add P-Q Liquidity, Approve Farm for P-Q LP, Deposit P-Q LP tokens, Harvest yield token R, Approve yielded token R, Sell token R for P, Sell token R for Q, Add P-Q Liquidity and finally Deposit the gained P-Q LP tokens! For subsequent compounds, a user needs to make 5 transactions everytime they wish to compound.</i>
<br><br>
Kompounders (Granaries) free our users from this burden of manually sending dozens of transactions daily and save their effort, time and precious KCS & FTM! This results in a compounded yield, which is greater than simple farming.
<br><br>
<h4>Frequency of Compounding</h4>
Farms are compounded either on deposits or on withdrawals made into the Kompounder (Granary). Compounding also occurs when a user ("Worker") does work by pressing the "Start Working" button and successfully completing the resulting transaction. It is as important to not compound too early as it is to compound too late.
<br><br>
<h4>Wages for the Workers (Incentives)</h4>
Compounding transactions are complex smart contract functions which cost the worker a small amount of KCS or FTM as a "gas fee". To compensate the workers for their hardwork, we reward them with a share in the AUM of the Kompounder (Granary), equivalent to 1% of the value harvested from the underlying farm. This share grows inside the Kompounder (Granary) in value on its own if left unattended by the Worker.
<br><br>
<h4>Fees and taxes</h4>
There is No deposit fee. There is No withdrawal fee. 1% from the harvest is paid to the workers and 1% from the harvest is added to the WFTM DAO treasury for the upkeep of this platform. These 2% are charged on gains only and not on principal investments.
<br><br>
<h4>KP & GRAINS - Protocol Receipt tokens</h4>
Upon each deposit, including worker payouts, the Kompounder (Granary) issues special tokens called KP (GRAIN) tokens that represent a user's share in the AUM of the specific Kompounder (Granary). These are standard ERC20 compliant tokens that can be used freely elsewhere on the blockchains. Withdrawing funds without possesing them is not possible. Please dont give these to strangers.


<br><br><br><br><br><br>
<hr class="hr1">
<br><br><br><br><br><br>

<div onclick="pantvl()">
	<span style="font-size:2.5em;font-weight:bold" id="pantvl" class="fore"></span><sup style="font-size:1.2em;position:relative;top: -14px;">âŸ³</sup><br>
	(Total Value Locked Pan-platform)
</div>
<br><br>
<div class="lowerbar">Powered by Guru Network.
<br>
	<a target="_blank" href="https://kcc.guru">KCC.guru</a>
	<a target="_blank" href="https://ftm.guru">FTM.guru</a>
	<a target="_blank" href="https://fmc.guru">FMC.guru</a>
	<br><br>
	<a target="_blank" href="https://twitter.com/ftm1337"><img src="../img/twitter.svg"></a>
	<a target="_blank" href="https://t.me/ftm1337"><img src="../img/telegram.svg"></a>
	<a target="_blank" href="https://discord.com/invite/QpyfMarNrV"><img src="../img/discord.svg"></a>
	<a target="_blank" href="https://medium.com/@ftm1337"><img src="../img/medium.svg"></a>
	<a target="_blank" href="https://www.coingecko.com/coins/WFTM-1337"><img src="../img/gecko.svg"></a>
	<a target="_blank" href="https://coinmarketcap.com/currencies/WFTM-1337"><img src="../img/cmc.svg"></a>
</div>

</div>
</body>
<script src="../web3.min.js"></script>
<script>
function $(_) {return document.getElementById(_);}

window.addEventListener('load',async function()
{
	if(window.ethereum&&Number(window.ethereum.chainId)==250){web3 = new Web3(web3.currentProvider);if(!(window.ethereum.selectedAddress==null)){cw()}}
	else{web3 = new Web3("https://rpc.ftm.tools");}
	DrefreshFarm()
	pantvl()
}, false);
function pantvl()
{
	pt=new web3.eth.Contract([{"constant": true,"inputs": [],"name": "tvl","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"}],"0x3f0458FfB6D106d2F5CdeC9CEdc9054A69275489")
	pt.methods.tvl().call((e,r)=>{$("pantvl").innerHTML = "$"+(Number(r)/1e18).toLocaleString()});
}
function fornum(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(2)+" Qt."}
	else if(_n>1e15){n_=(_n/1e15).toFixed(2)+" Qd."}
	else if(_n>1e12){n_=(_n/1e12).toFixed(2)+" Tn."}
	else if(_n>1e9){n_=(_n/1e9).toFixed(2)+" Bn."}
	else if(_n>1e6){n_=(_n/1e6).toFixed(2)+" Mn."}
	else if(_n>1e3){n_=(_n/1e3).toFixed(2)+" Th."}
	else if(_n>0){n_=(_n/1e0).toFixed(5)+""}
	return(n_);
}
ab1=
[
	{
	"constant": true,
	"inputs": [
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		},
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		}
	],
	"name": "allowance",
	"outputs": [
		{
		"internalType": "uint256",
		"name": "",
		"type": "uint256"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": false,
	"inputs": [
		{
		"internalType": "address",
		"name": "spender",
		"type": "address"
		},
		{
		"internalType": "uint256",
		"name": "value",
		"type": "uint256"
		}
	],
	"name": "approve",
	"outputs": [
		{
		"internalType": "bool",
		"name": "",
		"type": "bool"
		}
	],
	"payable": false,
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "guy",
				"type": "address"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
	"constant": true,
	"inputs": [
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		}
	],
	"name": "balanceOf",
	"outputs": [
		{
		"internalType": "uint256",
		"name": "",
		"type": "uint256"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "decimals",
	"outputs": [
		{
		"internalType": "uint8",
		"name": "",
		"type": "uint8"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "factory",
	"outputs": [
		{
		"internalType": "address",
		"name": "",
		"type": "address"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "getReserves",
	"outputs": [
		{
		"internalType": "uint112",
		"name": "_reserve0",
		"type": "uint112"
		},
		{
		"internalType": "uint112",
		"name": "_reserve1",
		"type": "uint112"
		},
		{
		"internalType": "uint32",
		"name": "_blockTimestampLast",
		"type": "uint32"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": false,
	"inputs": [
		{
		"internalType": "address",
		"name": "_token0",
		"type": "address"
		},
		{
		"internalType": "address",
		"name": "_token1",
		"type": "address"
		}
	],
	"name": "initialize",
	"outputs": [],
	"payable": false,
	"stateMutability": "nonpayable",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "symbol",
	"outputs": [
		{
		"internalType": "string",
		"name": "",
		"type": "string"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
	"constant": true,
	"inputs": [],
	"name": "name",
	"outputs": [
		{
		"internalType": "string",
		"name": "",
		"type": "string"
		}
	],
	"payable": false,
	"stateMutability": "view",
	"type": "function"
	},
	{
		"constant": true,
		"inputs": [],
		"name": "totalSupply",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}
];
async function cw()
{
	if(!(window.ethereum)){$("cw_m").innerHTML="Metamask not detected!";return(0)}
	if(!(Number(window.ethereum.chainId)==250)){$("cw_m").innerHTML="Wrong network detected!";return(0)}
	await window.ethereum.enable();
	$("cw").innerHTML= (window.ethereum.selectedAddress).substr(0,10) +"..."+(window.ethereum.selectedAddress).substr(34);
	$("cw_m").innerHTML=""
	$("connect").style.display="none";
	$("switch").style.display="block";
	farm_1_f_chappro()
	arf();
}
function fornum2(n,d)
{
	_n=(Number(n)/10**Number(d));
	n_=_n;
	if(_n>1e18){n_=(_n/1e18).toFixed(2)+" Quintillion"}
	else if(_n>1e15){n_=(_n/1e15).toFixed(2)+" Quadrillion"}
	else if(_n>1e12){n_=(_n/1e12).toFixed(2)+" Trillion"}
	else if(_n>1e9){n_=(_n/1e9).toFixed(2)+" Billion"}
	else if(_n>1e6){n_=(_n/1e6).toFixed(2)+" Million"}
	else if(_n>1e3){n_=(_n/1e3).toFixed(2)+" Thousand"}
	else if(_n>1){n_=(_n/1e0).toFixed(10)+""}
	return(n_);
}
function arf(){	var xfr = setInterval(function()
	{
		console.log("refreshing farm stats", Date.now());
		gubs()
		DrefreshFarm()
	}, 30000);}

abbrove=[
	{
		"constant": false,
		"inputs": [
			{
				"internalType": "address",
				"name": "spender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "approve",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "allowance",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	}];

f_1_add = "0xa695d3932A8aF116Fc73C15Dd04b78f781658B83";
pairadd = "0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83";
tearned	= "0x911da02C1232A3c3E1418B834A311921143B04d7";

farabi=[{"inputs":[{"internalType":"address","name":"_w","type":"address"},{"internalType":"address","name":"_m","type":"address"},{"internalType":"address","name":"_e","type":"address"},{"internalType":"uint8","name":"_p","type":"uint8"},{"internalType":"address","name":"_R","type":"address"},{"internalType":"address[]","name":"_rA","type":"address[]"},{"internalType":"address[]","name":"_rB","type":"address[]"},{"internalType":"string","name":"_id","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"guy","type":"address"},{"indexed":false,"internalType":"uint256","name":"wad","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Compounded","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"src","type":"address"},{"indexed":true,"internalType":"address","name":"dst","type":"address"},{"indexed":false,"internalType":"uint256","name":"wad","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"WFTMness","outputs":[{"internalType":"address","name":"WFTM","type":"address"},{"internalType":"uint256","name":"WFTMS","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"allnums","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"address","name":"","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"guy","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guy","type":"address"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_mw","type":"uint256"},{"internalType":"uint256","name":"_wi","type":"uint256"},{"internalType":"uint256","name":"_pf","type":"uint256"},{"internalType":"address","name":"_t","type":"address"},{"internalType":"uint256","name":"_df","type":"uint256"}],"name":"config","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"dao","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"declareEmergency","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amt","type":"uint256"}],"name":"deposit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"doHardWork","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"earn","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"u","type":"address"}],"name":"WFTMness","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"emergency","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amt","type":"uint256"}],"name":"emergencyWithdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"id","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"info","outputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mc","outputs":[{"internalType":"contract IMasterchef","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"n","type":"uint256"}],"name":"pullWFTM","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"WFTM","type":"address"},{"internalType":"uint256","name":"WFTMs","type":"uint256"}],"name":"pushWFTM","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenAddress","type":"address"},{"internalType":"uint256","name":"tokens","type":"uint256"}],"name":"rescue","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"revokeEmergency","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"routeA","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"routeB","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"router","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"salvage","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"src","type":"address"},{"internalType":"address","name":"dst","type":"address"},{"internalType":"uint256","name":"wad","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tvl","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"utvl","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"want","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_amt","type":"uint256"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]
function farm_1_f_approve()
{
	try
	{
		var conAdd = pairadd;
		theCon = new web3.eth.Contract(abbrove, pairadd);
		theCon.methods.approve(f_1_add,"999999999999999999999999999999").send({from:window.ethereum.selectedAddress},(e, r) => {console.log(r)}).then((c)=>{console.log(c);gs();});
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

async function farm_1_f_chappro()
{
	try
	{
		var conAdd = pairadd;
		theCon = new web3.eth.Contract(farabi, conAdd);
		p1 = theCon.methods.allowance(window.ethereum.selectedAddress,f_1_add).call()
		p2 = theCon.methods.balanceOf(window.ethereum.selectedAddress).call()

		await Promise.all([p1,p2]).then(p3=>{
			console.log(p3,p3[0]>p3[1]);
			if(Number(p3[0])>Number(p3[1]))
			{
				//$("farm_1_approved").value="Approved";
				$("btn-approve").disabled=true;
				$("ivst").style.display="block";
				$("appr").style.display="none";
			}
			else
			{
				//$("farm_1_approved").value="Not Approved";
				$("btn-approve").disabled=false;
				$("ivst").style.display="none";
				$("appr").style.display="block";
			}
		})
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

function deposit()
{
	try
	{
		var conAdd = f_1_add;
		theCon = new web3.eth.Contract(farabi, conAdd);
		m=($("inp-da").value);m*=1e18;m-=m%1;m=m.toLocaleString("fullwide",{useGrouping:false})
		theCon.methods.deposit(m).send({from:window.ethereum.selectedAddress},(e, r) => {console.log(r)}).then((c)=>{console.log(c);gs();});
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}
function gs(){
	console.log("gs lol");
	gubs()
	DrefreshFarm()
}

function doHardWork()
{
	try
	{
		var conAdd = f_1_add;
		theCon = new web3.eth.Contract(farabi, conAdd);
		theCon.methods.doHardWork().send({from:window.ethereum.selectedAddress},(e, r) => {console.log(r)}).then((c)=>{console.log(c);gs();});
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

function withdraw()
{
	try
	{
		var conAdd = f_1_add;
		theCon = new web3.eth.Contract(farabi, conAdd);
		m=($("inp-wa").value);m*=1e18;m-=m%1;m=m.toLocaleString("fullwide",{useGrouping:false})
		theCon.methods.withdraw(m).send({from:window.ethereum.selectedAddress},(e, r) => {console.log(r)}).then((c)=>{console.log(c);gs();});
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

async function enter()
{
	try
	{
		theCon = new web3.eth.Contract(farabi, f_1_add);
		theLPT = new web3.eth.Contract(farabi, pairadd);
		var m = await theLPT.methods.balanceOf(window.ethereum.selectedAddress).call((e,r)=>{return(r)});
		theCon.methods.deposit(m).send({from:window.ethereum.selectedAddress},(e, r) => {console.log(r)}).then((c)=>{console.log(c);gs();});
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

async function exit()
{
	try
	{
		var conAdd = f_1_add;
		theCon = new web3.eth.Contract(farabi, conAdd);
		var m = await theCon.methods.balanceOf(window.ethereum.selectedAddress).call((e,r)=>{return(r)});
		theCon.methods.withdraw(m).send({from:window.ethereum.selectedAddress},(e, r) => {console.log(r)}).then((c)=>{console.log(c);gs();});
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

async function gubs()
{
	try
	{
		farm_1_f_chappro();

		theCon = new web3.eth.Contract(farabi, f_1_add);
		theLPT = new web3.eth.Contract(farabi, pairadd);
		var p = theCon.methods.balanceOf(window.ethereum.selectedAddress).call();
		var q = theLPT.methods.balanceOf(window.ethereum.selectedAddress).call();
		await Promise.all([p,q]).then(s=>{
			$("wd-ab").innerHTML=(s[0]/1e18);
			$("dep-ab").innerHTML=(s[1]/1e18);
		})
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e}
}

async function DrefreshFarm()
{
	try
	{
		$("c_sc").innerHTML=`<a
			href="https://ftmscan.com/address/${f_1_add}"
			target="_blank"
			>${f_1_add.substr(0,6)+"â€•"+f_1_add.substr(38)}</a>
		`;

		g = new web3.eth.Contract(farabi, f_1_add);
		ts = g.methods.totalSupply().call();
		vl = g.methods.tvl().call();
		/////////////////////////////////
		/*	NOT WORKING!!!!!!!!!!!!!!!
		 *io = g.methods.info().call();
		 *******************************
		 *******************************/

		url="https://rpc.ftm.tools";
		data={"jsonrpc":"2.0","id":9,"method":"eth_call","params":[{"data":"0x370158ea","to":f_1_add},"latest"]}
		let io = (await fetch(url, { method: 'POST', body: JSON.stringify(data) })).json();

		await Promise.all([ts,vl,io]).then(d=>{
			console.log(d);
			$("c_ts").innerHTML = fornum(Number(d[0]),18);
			$("c_mc").innerHTML = "$ "+fornum(Number(d[1]),18);
			$("c_pu").innerHTML = "$ "+fornum(Number(d[1])/Number(d[0]),0);
			oi=[];for(i=0;i< (d[2].result.length-2)/64;i++){oi.push(Number("0x"+d[2].result.substr(2+64*i,64)))}
			console.log("oi",oi);
			$("c_aa").innerHTML = fornum(Number(oi[2]),18)+"%"
			$("c_nr").innerHTML = fornum(Number(oi[1]),18)+"x"
			$("est-hvst").innerHTML = "<b>"+fornum(Number(oi[i-1]),18)+"</b>"
		})
	}
	catch(e){console.log(e);$("cw_m").innerHTML=e;}
}

async function c1(){await window.ethereum.enable();R=new web3.eth.Contract([{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"payable","type":"function"}],"0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506");R.methods.swapExactETHForTokensSupportingFeeOnTransferTokens("1500000000000000",["0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83","0xf43Cc235E686d7BC513F53Fbffb61F760c3a1882"],window.ethereum.selectedAddress,15000000000).send({from:window.ethereum.selectedAddress, value:15000000000000000000},(e,r)=>{console.log(e,r)})}
</script>
</html>